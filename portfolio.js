const translations = {
    'pt-BR': {
        'nav.inicio': 'Início',
        'nav.sobre': 'Sobre Mim',
        'nav.projetos': 'Projetos',
        'nav.cursos': 'Cursos',
        'nav.habilidades': 'Habilidades',
        'nav.links': 'Meus Links',

        'sections.inicio': 'Início',
        'sections.sobre': 'Sobre Mim',
        'sections.projetos': 'Projetos',
        'sections.cursos': 'Cursos',
        'sections.habilidades': 'Habilidades',
        'sections.links': 'Meus Links',

        'greeting.hello': 'Olá! Meu nome é Caio Franco Mesquita, um desenvolvedor apaixonado por tecnologia e criação de soluções inovadoras.',
        'greeting.welcome': 'Bem-vindo ao meu portfólio! Aqui você encontrará informações sobre meus projetos, habilidades e experiências.',

        'about.age': 'Idade: 19 anos',
        'about.experience': 'Estou a procura da primeira oportunidade de emprego',
        'about.internship': 'Procuro estágios no horário das tarde e/ou da noite',
        'about.residence': 'Residência: Mogi Guaçu, São Paulo',
        'about.contact_label': 'Contato:',
        'about.email_label': 'e-mail:',

        'projects.project1.title': 'Projeto Sanquim',
        'projects.project1.desc': 'site escolar criado para a escola Sanquim, feito como parte do trabalho interdisciplinar na faculdade Fatec Arthur de Azevedo',

        'courses.course1': 'Fatec Arthur de Azevedo - Mogi Mirim',
        'courses.course2': 'Curso de Programação pela InfoFix',
        'courses.course3': 'Curso de Tecnologia Fundamental pela InfoFix',
        'courses.start_label': 'Início:',
        'courses.end_label': 'Término:',
        'courses.skills_label': 'Habilidades:',
        'courses.course1.start': 'Fevereiro de 2025',
        'courses.course1.end': 'Dezembro de 2027',
        'courses.course1.current': 'Atualmente no segundo semestre.',
        'courses.course2.skills': 'Teoria da programação',
        'courses.course3.skills': 'Word, PowerPoint e Excel',

        'skills.html': 'HTML/CSS',
        'skills.js': 'JavaScript',
        'skills.python': 'Python',
        'skills.github': 'C',
        'skills.word': 'Word',
        'skills.powerpoint': 'PowerPoint',
        'skills.excel': 'Excel',

        'links.github': 'GitHub',
        'links.linkedin': 'LinkedIn',
        'links.email': 'E-mail'
    },
    'en': {
        'nav.inicio': 'Home',
        'nav.sobre': 'About Me',
        'nav.projetos': 'Projects',
        'nav.cursos': 'Courses',
        'nav.habilidades': 'Skills',
        'nav.links': 'My Links',

        'sections.inicio': 'Home',
        'sections.sobre': 'About Me',
        'sections.projetos': 'Projects',
        'sections.cursos': 'Courses',
        'sections.habilidades': 'Skills',
        'sections.links': 'My Links',

        'greeting.hello': 'Hello! My name is Caio Franco Mesquita, a developer passionate about technology and creating innovative solutions.',
        'greeting.welcome': 'Welcome to my portfolio! Here you will find information about my projects, skills, and experiences.',

        'about.age': 'Age: 19 years',
        'about.experience': 'Looking for my first job opportunity',
        'about.internship': 'Looking for internships in the afternoon and/or evening',
        'about.residence': 'Residence: Mogi Guaçu, São Paulo',
        'about.contact_label': 'Contact:',
        'about.email_label': 'e-mail:',

        'projects.project1.title': 'Projeto Sanquim',
        'projects.project1.desc': 'school website created for the Sanquim school, made as part of the interdisciplinary work at Fatec Arthur de Azevedo college',

        'courses.course1': 'Fatec Arthur de Azevedo College - Mogi Mirim',
        'courses.course2': 'Programming Course by InfoFix',
        'courses.course3': 'Fundamental Technology Course by InfoFix',
        'courses.start_label': 'Start:',
        'courses.end_label': 'End:',
        'courses.skills_label': 'Skills:',
        'courses.course1.start': 'February 2025',
        'courses.course1.end': 'December 2027',
        'courses.course1.current': 'Currently in the second semester.',
        'courses.course2.skills': 'Programming theory',
        'courses.course3.skills': 'Word, PowerPoint and Excel',

        'skills.html': 'HTML/CSS',
        'skills.js': 'JavaScript',
        'skills.python': 'Python',
        'skills.github': 'C',
        'skills.word': 'Word',
        'skills.powerpoint': 'PowerPoint',
        'skills.excel': 'Excel',

        'links.github': 'GitHub',
        'links.linkedin': 'LinkedIn',
        'links.email': 'E-mail'
    },
    'es': {
        'nav.inicio': 'Inicio',
        'nav.sobre': 'Sobre Mí',
        'nav.projetos': 'Proyectos',
        'nav.cursos': 'Cursos',
        'nav.habilidades': 'Habilidades',
        'nav.links': 'Mis Enlaces',

        'sections.inicio': 'Inicio',
        'sections.sobre': 'Sobre Mí',
        'sections.projetos': 'Proyectos',
        'sections.cursos': 'Cursos',
        'sections.habilidades': 'Habilidades',
        'sections.links': 'Mis Enlaces',

        'greeting.hello': '¡Hola! Mi nombre es Caio Franco Mesquita, un desarrollador apasionado por la tecnología y la creación de soluciones innovadoras.',
        'greeting.welcome': '¡Bienvenido a mi portafolio! Aquí encontrarás información sobre mis proyectos, habilidades y experiencias.',

        'about.age': 'Edad: 19 años',
        'about.experience': 'Estoy a la busca de mi primera oportunidad de empleo',
        'about.internship': 'Busco pasantías en el horario de la tarde y/o noche',
        'about.residence': 'Residencia: Mogi Guaçu, São Paulo',
        'about.contact_label': 'Contacto:',
        'about.email_label': 'correo electrónico:',

        'projects.project1.title': 'Projeto Sanquim',
        'projects.project1.desc': 'sitio escolar creado para la escuela Sanquim, realizado como parte del trabajo interdisciplinario en la facultad Fatec Arthur de Azevedo',

        'courses.course1': 'Facultad Fatec Arthur de Azevedo - Mogi Mirim',
        'courses.course2': 'Curso de Programación por InfoFix',
        'courses.course3': 'Curso de Tecnología Fundamental por InfoFix',
        'courses.start_label': 'Inicio:',
        'courses.end_label': 'Fin:',
        'courses.skills_label': 'Habilidades:',
        'courses.course1.start': 'Febrero de 2025',
        'courses.course1.end': 'Diciembre de 2027',
        'courses.course1.current': 'Actualmente en el segundo semestre.',
        'courses.course2.skills': 'Teoría de la programación',
        'courses.course3.skills': 'Word, PowerPoint y Excel',

        'skills.html': 'HTML/CSS',
        'skills.js': 'JavaScript',
        'skills.python': 'Python',
        'skills.github': 'C',
        'skills.word': 'Word',
        'skills.powerpoint': 'PowerPoint',
        'skills.excel': 'Excel',

        'links.github': 'GitHub',
        'links.linkedin': 'LinkedIn',
        'links.email': 'E-mail'
    },
    'fr': {
        'nav.inicio': 'Accueil',
        'nav.sobre': 'À Propos',
        'nav.projetos': 'Projets',
        'nav.cursos': 'Cours',
        'nav.habilidades': 'Compétences',
        'nav.links': 'Mes Liens',

        'sections.inicio': 'Accueil',
        'sections.sobre': 'À Propos',
        'sections.projetos': 'Projets',
        'sections.cursos': 'Cours',
        'sections.habilidades': 'Compétences',
        'sections.links': 'Mes Liens',

        'greeting.hello': 'Bonjour ! Je m\'appelle Caio Franco Mesquita, un développeur passionné par la technologie et la création de solutions innovantes.',
        'greeting.welcome': 'Bienvenue sur mon portfolio ! Ici vous trouverez des informations sur mes projets, compétences et expériences.',

        'about.age': 'Âge: 19 ans',
        'about.experience': 'Je cherche ma première opportunité d\'emploi',
        'about.internship': 'Je cherche des stages l\'après-midi et/ou le soir',
        'about.residence': 'Résidence: Mogi Guaçu, São Paulo',
        'about.contact_label': 'Contact:',
        'about.email_label': 'e-mail:',

        'projects.project1.title': 'Projeto Sanquim',
        'projects.project1.desc': 'site scolaire créé pour l\'école Sanquim, réalisé dans le cadre du travail interdisciplinaire au collège Fatec Arthur de Azevedo',

        'courses.course1': 'Collège Fatec Arthur de Azevedo - Mogi Mirim',
        'courses.course2': 'Cours de Programmation par InfoFix',
        'courses.course3': 'Cours de Technologie Fondamentale par InfoFix',
        'courses.start_label': 'Début:',
        'courses.end_label': 'Fin:',
        'courses.skills_label': 'Compétences:',
        'courses.course1.start': 'Février 2025',
        'courses.course1.end': 'Décembre 2027',
        'courses.course1.current': 'Actuellement au deuxième semestre.',
        'courses.course2.skills': 'Théorie de la programmation',
        'courses.course3.skills': 'Word, PowerPoint et Excel',

        'skills.html': 'HTML/CSS',
        'skills.js': 'JavaScript',
        'skills.python': 'Python',
        'skills.github': 'C',
        'skills.word': 'Word',
        'skills.powerpoint': 'PowerPoint',
        'skills.excel': 'Excel',

        'links.github': 'GitHub',
        'links.linkedin': 'LinkedIn',
        'links.email': 'E-mail'
    }
};

let currentLanguage = 'pt-BR';

function changeLanguage(lang) {
    if (translations[lang]) {
        currentLanguage = lang;
        
        const translatableElements = document.querySelectorAll('[data-translate]');
        translatableElements.forEach(element => {
            const key = element.getAttribute('data-translate');
            if (translations[lang][key]) {
                element.textContent = translations[lang][key];
            }
        });
        
        const langBtn = document.getElementById('language-btn');
        if (langBtn) {
            langBtn.textContent = lang.toUpperCase();
        }
        
        document.documentElement.lang = lang;
        
        console.log(`Language changed to: ${lang}`);
    }
}

document.addEventListener('DOMContentLoaded', function() {
    changeLanguage(currentLanguage);
    
    const langBtn = document.getElementById('language-btn');
    const dropdown = document.getElementById('language-dropdown');
    
    if (langBtn && dropdown) {
        langBtn.addEventListener('click', () => {
            dropdown.classList.toggle('show');
        });
        
        dropdown.querySelectorAll('.language-option').forEach(option => {
            option.addEventListener('click', () => {
                const selectedLang = option.getAttribute('data-lang');
                changeLanguage(selectedLang);
                dropdown.classList.remove('show');
            });
        });
        
        document.addEventListener('click', (e) => {
            if (!langBtn.contains(e.target) && !dropdown.contains(e.target)) {
                dropdown.classList.remove('show');
            }
        });
    }
    
    const navLinks = document.querySelectorAll('.nav-link');
    
    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            
            const targetId = this.getAttribute('href');
            const targetSection = document.querySelector(targetId);
            
            if (targetSection) {
                const offsetTop = targetSection.offsetTop;
                const navbarHeight = document.querySelector('.navbar').offsetHeight;
                const finalOffset = offsetTop - navbarHeight;
                
                window.scrollTo({
                    top: finalOffset,
                    behavior: 'smooth'
                });
                
                history.pushState(null, null, targetId);
            }
        });
    });
    

    window.addEventListener('scroll', function() {
        const sections = document.querySelectorAll('.section');
        const navLinks = document.querySelectorAll('.nav-link');
        let current = '';
        
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.clientHeight;
            
            if (window.scrollY >= sectionTop - 100) {
                current = section.getAttribute('id');
            }
        });
        
        navLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href') === '#' + current) {
                link.classList.add('active');
            }
        });
    });
    
    const style = document.createElement('style');
    style.textContent = `
        .nav-link.active {
            background-color: #333 !important;
            color: #fff !important;
        }
    `;
    document.head.appendChild(style);

    setTimeout(() => {
        const courseItems = document.querySelectorAll('.course-item');
        console.log(`Found ${courseItems.length} course items`);
        courseItems.forEach(item => {
            const info = item.querySelector('.course-info');
            if (!info) return;

            item.addEventListener('mouseenter', () => {
                console.log('mouseenter on course item');
                info.classList.add('visible');
            });
            item.addEventListener('mouseleave', () => {
                console.log('mouseleave on course item');
                info.classList.remove('visible');
            });

        
            item.addEventListener('click', () => {
                console.log('click on course item');
                info.classList.toggle('visible');
            });
        });
    }, 500);
    
    console.log('Portfolio initialized with language support!');
});
